{"version":3,"file":"main_module.min.js","sources":["../src/main_module.js"],"sourcesContent":["/**\n * Módulo AMD principal para el bloque de hora dinámica.\n * Define 'block_dynamic_time/main_module'\n * Depende de 'block_dynamic_time/time_module' y de 'core/log' (para depuración).\n */\ndefine(['block_dynamic_time/time_module', 'core/log'], function(timeModule, log) {\n    const SELECTOR_ID = 'moodle-dynamic-time-display';\n\n    /**\n     * Actualiza el elemento HTML con la hora actual.\n     */\n    function updateTime() {\n        const dynamicTimeElement = document.getElementById(SELECTOR_ID);\n        if (dynamicTimeElement) {\n            dynamicTimeElement.textContent = timeModule.getCurrentTime();\n            log.debug('Bloque de Hora Dinámica: Hora actualizada a: ' + timeModule.getCurrentTime()); // Log de depuración\n        } else {\n            log.debug('Bloque de Hora Dinámica: Elemento ' + SELECTOR_ID + ' no encontrado en el DOM.'); // Log de depuración\n        }\n    }\n\n    /**\n     * Inicializa el módulo, configurando la actualización de la hora.\n     * Esta función es llamada por el PHP del bloque: $this->page->requires->js_call_amd(... , 'init');\n     */\n    function init() {\n        log.debug('Bloque de Hora Dinámica: Función init() ejecutada.'); // Log de depuración\n        // Actualiza la hora inmediatamente\n        updateTime();\n\n        // Actualiza la hora cada segundo\n        setInterval(updateTime, 1000);\n    }\n\n    // Exporta la función 'init' para que pueda ser invocada por Moodle.\n    return {\n        init: init\n    };\n});"],"names":["define","timeModule","log","updateTime","dynamicTimeElement","document","getElementById","textContent","getCurrentTime","debug","init","setInterval"],"mappings":"AAKAA,wCAAO,CAAC,iCAAkC,aAAa,SAASC,WAAYC,cAM/DC,mBACCC,mBAAqBC,SAASC,eANpB,+BAOZF,oBACAA,mBAAmBG,YAAcN,WAAWO,iBAC5CN,IAAIO,MAAM,gDAAkDR,WAAWO,mBAEvEN,IAAIO,MAAM,gGAkBX,CACHC,gBAVAR,IAAIO,MAAM,sDAEVN,aAGAQ,YAAYR,WAAY"}